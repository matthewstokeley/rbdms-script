// a string parser inspired by node.js